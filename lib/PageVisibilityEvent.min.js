var b=!1,c=this.self||global;function d(){}
function e(a){function j(a){f=document.hidden||document.webkitHidden||b;g(a.type)}function h(a){f="pagehide"===a.type;g(a.type)}function m(a){f="blur"===a.type;g(a.type)}function g(a){for(var g=f,l=0,j=k.length,h=null;l<j;++l)(h=k[l])&&h(g,a)}a=a?"addEventListener":"removeEventListener";if("hidden"in document)document[a]("visibilitychange",j);else if("webkitHidden"in document)document[a]("webkitvisibilitychange",j);else/iPhone|iPad|iPod/.test(c.navigator.userAgent)?(c[a]("pageshow",h),c[a]("pagehide",
h)):(c[a]("focus",m),c[a]("blur",m))}var n="process"in c,f=b,k=[];d.name="PageVisibilityEvent";d.repository="https://github.com/uupaa/PageVisibilityEvent.js";d.on=function(a){if(0<=k.indexOf(a))return b;k.push(a);1===k.length&&e(!0);return!0};d.off=function(a){if(a)return a=k.indexOf(a),0<=a&&k[a]?(k.splice(a,1),k.length||e(b),!0):b;k=[];e(b);return!0};d.isHidden=function(){return f};n&&(module.exports=d);c.PageVisibilityEvent?c.PageVisibilityEvent_=d:c.PageVisibilityEvent=d;
