<!DOCTYPE html><html><head><title>test</title>
<meta charset="utf-8"></head><body>
<script src="../node_modules/uupaa.help.js/lib/Help.js"></script>
<script src="../lib/PageVisibilityEvent.js"></script>
<script>
  function handler1(pageHide, eventType) { // @arg Boolean:
    console.log("1 " + eventType + ":" + (pageHide ? "page hide" : "page show"));
  }
  function handler2(pageHide, eventType) { // @arg Boolean:
    console.log("2 " + eventType + ":" + (pageHide ? "page hide" : "page show"));
  }
  function handler3(pageHide, eventType) { // @arg Boolean:
    console.log("3 " + eventType + ":" + (pageHide ? "page hide" : "page show"));
  }


  // 未登録なのでtrue
  var result1 = PageVisibilityEvent.on(handler1);
  if (result1) { console.log("ok"); } else { console.log("ng"); }

  // 未登録なのでtrue
  var result2 = PageVisibilityEvent.on(handler2);
  if (result2) { console.log("ok"); } else { console.log("ng"); }

  if (0) {
    // 登録済みなので false
    var result3 = PageVisibilityEvent.on(handler2);
    if (!result3) { console.log("ok"); } else { console.log("ng"); }

    // 未登録なので false
    var result4 = PageVisibilityEvent.off(handler3);
    if (!result4) { console.log("ok"); } else { console.log("ng"); }

    // 全て登録抹消でtrue
    var result5 = PageVisibilityEvent.off();
    if (result5) { console.log("ok"); } else { console.log("ng"); }

    // 登録抹消済みなのでfalse
    var result6 = PageVisibilityEvent.off(handler1);
    if (!result6) { console.log("ok"); } else { console.log("ng"); }
  }

</script>
</body></html>

